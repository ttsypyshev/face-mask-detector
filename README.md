# Mask Detection Camera App (SwiftUI)

Это iOS-приложение на основе SwiftUI, использующее фреймворк `AVFoundation` для захвата видеопотока с камеры устройства и выполнения анализа изображений с целью определения наличия защитной маски на лице. Детекция осуществляется в реальном времени с поддержкой переключения между фронтальной и основной камерами.

## Основные возможности

* Захват видеопотока в реальном времени с использованием `AVCaptureSession`.
* Обработка кадров с помощью `AVCaptureVideoDataOutput` и передачи в модуль анализа изображений.
* Детекция лиц и классификация: лицо с маской / без маски / лицо не обнаружено.
* Динамическое уведомление о текущем статусе детекции.
* Поддержка переключения между фронтальной и тыловой камерами.
* Автоматическое запрашивание разрешения на доступ к камере через `AVCaptureDevice`.

## Системные требования

* iOS 15.0 или новее
* Xcode 13.0 или новее
* Swift 5.5 или новее

## Установка и запуск

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/your-username/mask-detection-app.git
   cd mask-detection-app
   ```

2. Откройте проект в Xcode, выбрав файл `.xcodeproj` или `.xcworkspace`.

3. Убедитесь, что в `Info.plist` добавлено разрешение на использование камеры:

   ```xml
   <key>NSCameraUsageDescription</key>
   <string>Доступ к камере необходим для выполнения детекции маски на лице.</string>
   ```

4. Соберите и запустите проект на реальном устройстве (эмулятор не поддерживает доступ к камере).

## Архитектура проекта

* `ContentView.swift` — основной пользовательский интерфейс.
* `CameraViewModel.swift` — бизнес-логика управления камерой и потоками данных.
* `CameraPreviewView.swift` — SwiftUI-обертка для `AVCaptureVideoPreviewLayer`.
* `MaskDetectionVideoHelper.swift` — вспомогательный компонент для обработки `CMSampleBuffer` и передачи в классификатор.

## Зависимости

Для корректной работы требуется реализация следующих компонентов:

* `MaskDetector` — модель или класс для анализа и классификации изображений.
* `MaskDetectionVideoHelper` — компонент для преобразования кадров и передачи в `MaskDetector`.

*Убедитесь, что данные классы реализованы или подключены из сторонней ML-библиотеки.*

## Политика конфиденциальности

Приложение запрашивает доступ исключительно к камере устройства. Видео и биометрические данные не сохраняются и не передаются третьим сторонам.

## Используемые ресурсы

* Модель машинного обучения: [FaceMaskDetection by AIZOOTech](https://github.com/AIZOOTech/FaceMaskDetection)
* SwiftUI-интеграция: [SwiftMaskDetection by keithito](https://github.com/keithito/SwiftMaskDetection)

---

Если нужно, я могу также помочь оформить `README.md` в виде шаблона для GitHub. Хотите?
